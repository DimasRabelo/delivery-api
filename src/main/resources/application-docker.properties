# ======================================================
# CONFIGURAÇÃO DO BANCO DE DADOS (MySQL)
# ======================================================
# URL de conexão JDBC para o container MySQL (nome do serviço 'db')
spring.datasource.url=jdbc:mysql://db:3306/deliverydb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=user
spring.datasource.password=password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ======================================================
# CONFIGURAÇÃO DO JPA & HIBERNATE (ORM)
# ======================================================
# Define o dialeto correto para o MySQL 8
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# 'update': Atualiza o schema do banco (cria tabelas, colunas)
# com base nas Entidades, sem apagar dados.
spring.jpa.hibernate.ddl-auto=update 

# ======================================================
# CONFIGURAÇÃO DO REDIS (CACHE)
# ======================================================
# Define o host do Redis diretamente (nome do serviço 'cache')
spring.redis.host=cache
spring.redis.port=6379

# ======================================================
# CONFIGURAÇÃO DO ACTUATOR (Monitoramento)
# ======================================================
# Desabilita o health check do Redis para o Actuator
# (Útil se o Redis não for obrigatório para a app subir,
# tratando a falha de conexão no RedisConfig)
management.health.redis.enabled=false